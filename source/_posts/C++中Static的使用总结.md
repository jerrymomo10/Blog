title: C++中Static的使用总结
tags: [技术,C++,Static]
categories: [C++] 
---

static的作用

在函数体，一个被声明为static的变量，在这一函数被调用的过程里，其数值维持不变。
在模块内（但在函数体外），一个被声明的静态变量可以被模块内的所有函数访问，但是不能被模块外的函数访问，是一个本地的全局变量
在模块内，一个被声明为静态的函数只可能被这一模块内的其他函数调用，也就是这个函数被限制在声明它的模块内使用。
总的来说，static控制了变量和函数的使用范围（本地数据化和代码范围的控制）

static全局变量和普通全局变量的区别

全局变量和静态全局变量都是静态存储方式。区别在于：非静态全局变量的作用域是整个源程序，当一个源程序有多个源文件组成时，非静态的全局变量在各个源文件都有效，而静态全局变量则限制了作用域，只定义了该静态全局变量的源文件有效，同一源程序的其他源文件不能使用它，使用静态全局变量可以避免在其他源文件中引起错误。

综上：把局部变量改成静态变量改变了它的存储方式，及改变了它的生存期，把全局变量改为静态变量，改变了它的作用域，限制了它的使用范围。

static全局变量与普通全局变量的区别：static全局变量只初始化一次，防止在其他文件单元中被引用
static局部变量与普通变量的区别：static全局变量只初始化一次，下一次依据上一次结果值。
static函数与普通函数的区别：static函数在内存中只有一份，普通函数在每个被调用中维持一份复制品
C++类的静态数据和方法成员

类中的静态成员和方法不属于类的实例，而属于类本身并在所有类的实例间共享。调用这些时，应用类名：：来引用。




